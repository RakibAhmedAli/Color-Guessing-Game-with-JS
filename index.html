<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Guessing Game</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

        <h1>Hey, Buddy! <br> Can you Guess the colour?</h1>
        <h2 id="colourValue"></h2>
        <div id="buttonWrapper">
            <button class="colourButton"></button>
            <button class="colourButton"></button>
            <button class="colourButton"></button>
            <button class="colourButton"></button>
            <button class="colourButton"></button>
            <button class="colourButton"></button>
        </div>
        <h2 id="answer"></h2>

        <div id="reset">
            <button id="resetButton">Reset game</button>
        </div>



    <script>

        function makeColourValue(){
            return Math.round(Math.random()*255);
        }

        function setButtonColour(button, red, green, blue){
            button.setAttribute('style',
                                'background-color: rgb('+ red +','+ green +','+ blue +');'
                            );
        }


        var buttons = document.getElementsByClassName('colourButton');

        var heading = document.getElementById('colourValue');

        var answerMessage = document.getElementById('answer');

        // var bgColorChange = document.getElementsByTagName('body');

        function startGame(){

            answerMessage.innerHTML = "";

            var answerButton = Math.round(Math.random() * (buttons.length - 1));



            for (var i = 0; i < buttons.length; i++) {

                var red = makeColourValue();
                var green = makeColourValue();
                var blue = makeColourValue();

                setButtonColour(buttons[i], red, green, blue);

                if (i === answerButton) {
                    heading.innerHTML = `(${red}, ${green}, ${blue})`;
                }

                buttons[i].addEventListener('click', function(){
                    if (this === buttons[answerButton]) {
                        answerMessage.innerHTML = "Correct!";

                    } else {
                        answerMessage.innerHTML = "Wrong answer! Guess again!";
                    }
                });

            }
            document.getElementById('resetButton').addEventListener('click', startGame);

        }
        startGame();
    </script>

</body>

</html>